
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Chifoumi</title>
  </head>
  <body>
<a href="index.html">Retourner à la page pas du tout accueillante</a>
<h1>石、紙、鋏</h1>
<span id="options"></span>
<h1>Vous : <span id="vous"></span> </h1>
 
<h1>Ordi : <span id="ordi"></span> </h1>
    <div id="jeu"></div>

    <script>
  const joueurAff=document.getElementById('vous'); const ordiAff=document.getElementById('ordi'); const resultatAff=document.createElement('h3');
  const scoreAff=document.createElement('h3'); const jeuAff=document.getElementById('jeu'); jeuAff.append(resultatAff);
  
  const choix=['Pierre', 'Papier', 'Ciseaux']; const choixJP=['いし', 'かみ', 'はさみ'];
  let joueur; let ordi; let score=[0,0];
  
  function handleClick(e){ordi = choix[Math.floor(Math.random() * choix.length)];
  scoreDas(e.target.id);
  console.log(Array.from(document.getElementsByTagName("button")).indexOf(e.target));
  // console.log(e.target);
}
  
  for (let i = 0; i < choix.length; i++){const boutonsAff = document.createElement('button');
  boutonsAff.id=choix[i]; boutonsAff.innerHTML=choix[i];
  boutonsAff.addEventListener('click', handleClick); jeuAff.appendChild(boutonsAff);}
  
  scoreDas=(joueur)=>{let jIndex=choix.indexOf(joueur); let vict=0;
  for (let i=1; i<3; i++){if (choix[(jIndex+i)%3]===ordi){score [i%2]+=1; vict=i;}}
    joueurAff.innerHTML= score[0]+ " " + choixJP[choix.indexOf(joueur)];
    ordiAff.innerHTML = score[1]+ " " + choixJP[choix.indexOf(ordi)]; switch (vict){
  case 0: resultatAff.innerHTML = "ÉGALITÉ !"; break;
  case 1: resultatAff.innerHTML = "PERDU !"; break;
  case 2:  resultatAff.innerHTML = "GAGNÉ !"; break;}}
      </script>
  </body>
</html>
