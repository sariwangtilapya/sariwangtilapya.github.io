<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        a:link {
  text-decoration: none;
  color: black;
}

a:visited {
  text-decoration: none;
  color: black;
}

a:hover {
  background-color: blue;
  color: red;
}

a:active {
  text-decoration: underline;
}
    </style>
</head>
<body>
    <p>Les lectures s'afficheront en passant la souris sur le kanji. Cliquer le kanji ouvre la page fr.wikipedia sur le même kanji.</p>
    <div id="classement">Classement : 
    <input type="radio" id="tousLesKanjis"   name="classement" onclick="tousLesKanjis()" checked>Tous
    <input type="radio" id="nvSc"   name="classement" onclick="nvSc()">Nv. Scolaire
    <input type="radio" id="nvJLPT" name="classement" onclick="nvJLPT()">Nv. JLPT
    <input type="radio" id="traits" name="classement" onclick="traits()">Traits
    <input type="radio" id="SKIP"   name="classement" onclick="SKIP()">SKIP
    </div>
    <div id="étage2"></div>
    <div id="ordre">Ordre : 
    </div>

<div id="compteHako"></div><hr><hr>
<div id="kanjiHako"></div>
<script src="kanjidic_english.js"></script>
<script>

const systèmesDOrdination=["kanji_in_context","heisig6","freq","tutt_cards","heisig","gakken","deroo","halpern_kkd","halpern_kkld","halpern_kkld_2ed","halpern_njecd","henshall","jf_cards","kodansha_compact","maniette","moro","nelson_c","nelson_n","oneill_kk","oneill_names","sh_desc","sh_kk","sh_kk2"];

for (v of systèmesDOrdination){
c=document.createElement("INPUT");
c.setAttribute("type","radio"); c.setAttribute("name","ordre"); c.setAttribute("id",`${v}`);
c.setAttribute("onClick","réordonner(this.id)");
document.getElementById("ordre").appendChild(c); if (v=="kanji_in_context"){c.setAttribute("checked",1)}
l=document.createElement("LABEL");
l.setAttribute("for",`${v}`); l.innerHTML=`${v}`;
document.getElementById("ordre").appendChild(l);
}

function nvSc(){let groupements=[];
document.getElementById("étage2").innerText="";
for (i=1; i<=10; i++){
c=document.createElement("INPUT");
c.setAttribute("type","radio"); c.setAttribute("name","nvSc"); c.setAttribute("id",`nvSc${i}`); c.setAttribute("value",`${i}`);
//c.setAttribute("onClick","nvSc_ii(this.value)");
document.getElementById("étage2").appendChild(c); if (i==1){c.setAttribute("checked",1)}
l=document.createElement("LABEL");
l.setAttribute("for",`nvSc${i}`); l.innerHTML=`${i}`;
document.getElementById("étage2").appendChild(l);
if (i==6){i++;}}
//poopo
for (v of kanjidic_english){if (groupements[parseInt(v[5].grade-1)]==undefined){groupements[parseInt(v[5].grade-1)]=new Array;}
groupements[parseInt(v[5].grade-1)].push(v)}

wxw="";

for (v of groupements){if (v!=undefined){
for (w of v){wxw+=w[0]+"　";}
}wxw+="\n";}
document.getElementById("kanjiHako").innerText=wxw;
}

function nvJLPT(){let groupements=[];
document.getElementById("étage2").innerText="";
for (i=4; i>0; i--){
c=document.createElement("INPUT");
c.setAttribute("type","radio"); c.setAttribute("name","nvJLPT"); c.setAttribute("id",`nvJLPT${i}`);
document.getElementById("étage2").appendChild(c); if (i==4){c.setAttribute("checked",1)}
l=document.createElement("LABEL");
l.setAttribute("for",`nvJLPT${i}`); l.innerHTML=`${i}`;
document.getElementById("étage2").appendChild(l);
}
for (v of kanjidic_english){if (groupements[parseInt(v[5].jlpt)]==undefined){groupements[parseInt(v[5].jlpt)]=new Array;}
groupements[parseInt(v[5].jlpt)].push(v)}

wxw="";

for (i=4; i>0; i--){
for (w of groupements[i]){wxw+=w[0]+"　";}
wxw+="\n";}
document.getElementById("kanjiHako").innerText=wxw;
}

function traits(){
étage2.innerHTML=`<input type="checkbox" name="Niveau Solaire" onclick="nvS1()">1<input type="checkbox" name="Niveau Solaire" onclick="nvS2()">2`
}
if (document.getElementById("nvSc").checked==1){nvSc();}

function SKIP(){document.getElementById("étage2").innerText="";
for (i=1; i<=4; i++){
c=document.createElement("INPUT");
c.setAttribute("type","radio"); c.setAttribute("name","SKIP"); c.setAttribute("id",`SKIP${i}`);
document.getElementById("étage2").appendChild(c); if (i==5){c.setAttribute("checked",1)}
l=document.createElement("LABEL");
l.setAttribute("for",`SKIP${i}`); l.innerHTML=`${i}`;
document.getElementById("étage2").appendChild(l);
}
}

//"freq","deroo","gakken","halpern_kkd","halpern_kkld","halpern_kkld_2ed","halpern_njecd","heisig","heisig6","henshall","jf_cards","jis208","kanji_in_context","kodansha_compact","maniette","moro","nelson_c","nelson_n","oneill_kk","oneill_names","sh_desc","sh_kk","sh_kk2","tutt_cards"
let SdO="kanji_in_context";
function pOrd(SdO){
    document.getElementById("kanjiHako").innerText="";
//0-kanji,1-onyomi,2-kunyomi,3-joyo,4-trad anglaise,5-objet
let sorter=[]; let uSorter=[];
for (v of kanjidic_english){if (eval(`v[5].${SdO}`)!=undefined){sorter.push(v);} else {uSorter.push(v);}}

sorter.sort(function(a,b) {
    return parseInt(eval(`a[5].${SdO}`),10)-parseInt(eval(`b[5].${SdO}`),10);
});

kanjidic_english=sorter.concat(uSorter);

let wxw=""; let compteDeKanjis=0;
for(v of sorter){
    
    document.getElementById("kanjiHako").innerHTML+="　";
    wxw+=`<a href="https://fr.wiktionary.org/wiki/${v[0]}" target="_blank" rel="noopener noreferrer" title="${eval("v[5]."+SdO)}\n${v[1]}\n${v[2]}">${v[0]}</a>　`;
    compteDeKanjis++;}//}
  //  wxw+=`${eval("v[5]."+SdO)}　`; compteDeKanjis++;}//}
document.getElementById("kanjiHako").innerHTML=wxw; document.getElementById("compteHako").innerText=`Il y a ${compteDeKanjis} kanjis dans cette liste.`;}



pOrd("kanji_in_context");

function réordonner(id){//Sd0=id;
    pOrd(id);}
    </script>
</body>
</html>
