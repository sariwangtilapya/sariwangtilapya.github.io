<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
svg {
  /* width: 300px; */
  display: block;
  /* position: absolute; */
}
svg path {
  stroke-dasharray: 320;
  stroke-dashoffset: 0;
  display: none;
  /* animation: dash 1s linear; */
}
@keyframes dash {
  from {
    stroke-dashoffset: 320;
  }
  to {
    stroke-dashoffset: 0;
  }
}
</style>
</head>
<body>
<div id="desKan"></div>
<input type="button" value="Tracer"  onclick="toDélai()">
<script>
    let svgData=`<svg xmlns="http://www.w3.org/2000/svg" width="109" height="109" viewBox="0 0 109 109">
<g id="kvg:StrokePaths_0304a" style="fill:none;stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;">
<g id="kvg:0304a" kvg:element="お">
	<path id="kvg:0304a-s1" d="M22.88,35.12c1.38,1,3.62,2.38,6,2.12c2.38-0.26,19.62-5.12,21.12-5.74c1.5-0.62,4-1.25,5.88-2"/>
	<path id="kvg:0304a-s2" d="M41.5,16.12c2.25,1,3.59,4.39,3.12,7.38c-2.5,16.12-3.37,45.53-2.25,58.38c0.75,8.62-0.64,10.45-7.12,7.12c-5.13-2.62-13.75-8-13.75-12.38c0-7.5,24.38-23.62,44.75-23.62c17.25,0,25,8.25,25,17.25c0,8.25-9.38,18.88-26.75,21"/>
	<path id="kvg:0304a-s3" d="M73,22.12c5.38,2.62,8.88,5.88,10.62,8.25c2.27,3.08,0.38,4.5-1.12,5"/>
</g>
</g>
<g id="kvg:StrokeNumbers_0304a" style="font-size:8;fill:#808080">
	<text transform="matrix(1 0 0 1 17.25 34.88)">1</text>
	<text transform="matrix(1 0 0 1 32.75 16.63)">2</text>
	<text transform="matrix(1 0 0 1 64.38 21.63)">3</text>
</g>
</svg>`
document.getElementById("desKan").innerHTML=svgData;
let listeDeTraits=document.getElementById('desKan').children[0].children[0].children[0].children;
let iter=0;
const longeur=[];



for (v of listeDeTraits){
  longeur.push(v.getTotalLength());
    v.addEventListener('animationend', () => {console.log('Animation completed');
        if (iter<listeDeTraits.length){délai(iter);}
});
}

// document.addEventListener("animationend")

// console.log(listeDeTraits);

function délai(a){
    listeDeTraits[a].style.display="block";
    listeDeTraits[a].style.animation= `dash ${longeur[a]/200}s linear`;
    console.log(longeur[a]);
    iter++;
}

function toDélai(){iter=0;
    for (v of listeDeTraits){
    v.style.display="none";
}
setTimeout(()=>délai(iter),0);}

délai(iter);

</script>      
</body>
</html>